<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styles/reset.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    
    <style>
        body,html {
            height: 300vh;
            background:linear-gradient(pink, red, coral)
        }
        .box_g .box {height: 80vh;}
        .box_g .box h1 {font-size: 10rem;}

    </style>
</head>
<body>
    <div class="box_g">
        <div class="box box1">
            <h1>1</h1>
        </div>
        <div class="box box2 boxani">
            <h1 class="title">2</h1>
            <p clsaa="contents">2-2</p>
        </div>
        <div class="box box3 boxani">
            <h1 class="title">3</h1>
            <ul clsaa="contents">
                <li>3-2</li>
            </ul>
        </div>
        <div class="box box4">
            <h1>4</h1>
        </div>
    </div>
    <script>
        gsap.registerPlugin(ScrollTrigger)//★scrollTrigger 필수

        const box = document.querySelectorAll('.boxani')
        const title = document.querySelectorAll('.title')
        const contents = document.querySelectorAll('.contents')
        console.log (title,contents,box)

        //for~in or for~of or forEach
        box.forEach((obj, ind, arr)=>{
            console.log(obj, ind, arr)
            gsap.fromTo(title[ind],{
                opacity:0, y:50,
            },{
                scrollTrigger:{
                    trigger:obj,
                    start:'top center',
                    markers:true,
                },
                opacity:1, y:0, duration:1,
                })
            gsap.fromTo(contents[ind],{
                opacity:0, x:100, y:50,
            },{
                scrollTrigger:{trigger:obj, start:'top center', markers:true,},
                opacity:1, x:0, y:0, delay:0.5, duration:1,
            })
        })

        //gsap.fromTo
/*         gsap.fromTo('.box3 h1',{
            opacity:0,
            x:200, y:-50,
        },{
            scrollTrigger:{
                trigger:'.box3',
                markers:true,
                start:'top center',
            },
            opacity:1,
            x:0, y:50, delay : 1, duration:2,
        })

        //gsap.to
        //시작(css) , 종료(gsap.to)
        gsap.to('.box2 h1',{
            scrollTrigger : {
                trigger : '.box2',
                markers:true,
                start:'top 80%',
            },
            opacity : 1,
            x:0,
            delay:2,
        }) */
        
    </script>
</body>
</html>